
В Go есть полезная конструкция `defer`, которая позволяет выполнять функции в фазе выхода из текущей функции. Например:

```go
package main

import (
	"fmt"
)

func main() {
	// функция выполнится в самом конце при выходе из main
	defer fmt.Println("finish")

	fmt.Println("start")
}
```

Вывод:

```go
start
finish
```

Такие функции называются *отложенными*. Каждая такая функция добавляется в стек отложенных функций и будет выполнена в порядке LIFO (Last In First Out):

```go
package main

import (
	"fmt"
)

func main() {
	defer fmt.Println("3rd")
	defer fmt.Println("2nd")

	fmt.Println("1st")
}
```

Вывод:

```go
1st
2nd
3rd
```

Использование отложенных функций достаточно распространено. Например:
- закрытие дескриптора файла после работы
- возвращение соединения с базой данных в общий пул после чтения всех строк
- закрытие TCP соединения после полного прочтения тела ответа
